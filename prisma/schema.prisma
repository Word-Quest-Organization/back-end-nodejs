generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Role {
  USER
  ADMIN
}

model User {
  id           String @id @default(uuid())
  email        String @unique
  passwordHash String
  name         String

  role Role @default(USER)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("usuarios")
}

model GrammarBook {
  id    String @id @default(uuid())
  title String
  color String

  unitList UnitList?

  @@map("grammar_books")
}

model UnitList {
  id            String      @id @default(uuid())
  grammarBook   GrammarBook @relation(fields: [grammarBookId], references: [id])
  grammarBookId String      @unique

  units Unit[]

  @@map("unit_lists")
}

model Unit {
  id String @id @default(uuid())

  unitList   UnitList @relation(fields: [unitListId], references: [id])
  unitListId String

  sentencesList SentencesList?

  @@map("units")
}

model SentencesList {
  id String @id @default(uuid())

  unit   Unit   @relation(fields: [unitId], references: [id])
  unitId String @unique

  sentences Sentence[]

  @@map("sentences_list")
}

model Sentence {
  id   String @id @default(uuid())
  text String

  sentencesList   SentencesList @relation(fields: [sentencesListId], references: [id])
  sentencesListId String

  @@map("sentences")
}
